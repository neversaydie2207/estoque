<ui:composition template="/WEB-INF/template/layout-dashboard.xhtml"
	xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	xmlns:pt="http://xmlns.jcp.org/jsf/passthrough"
	xmlns:jsf="http://xmlns.jcp.org/jsf"
	xmlns:o="http://omnifaces.org/ui"
	xmlns:ct="http://www.chartistjsf.org/charts"
	xmlns:wc="http://googlecode.com/wickedcharts">
	
	<ui:define name="metadata">
		
		<!--
		<f:metadata>
			<f:viewAction action="#{estatisticasBean.init()}"  />
		</f:metadata>
		 -->
		
	</ui:define>
	
	<ui:define name="conteudo">
		
		
		<h:form id="frmDashBoard" >
			
			<div class="row">
				
				
				<div class="col-lg-12 col-md-12 col-sm-12">
				
					<ui:fragment id="grupoGraficosConsolidados" rendered="#{seguranca.cargoUsuario.equalsIgnoreCase('TECNICOS_RH') || seguranca.cargoUsuario.equalsIgnoreCase('TECNICOS_RH_PMI') || seguranca.cargoUsuario.equalsIgnoreCase('MASTERS')}">
						<div class="row">
						
							
							<div class="col-md-12">
								
								<div class="card ">
									
									<div class="card-header card-header-icon" data-background-color="green">
										<i class="material-icons">assignment_ind</i>
									</div>
			                      
			                        
			                        <div class="card-content">
			                            <h4 class="card-title">Dados Consolidados</h4>
			                            
			                            <!-- 
			                            <div class="col-md-12">
											<canvas id="myChartBar"></canvas>
			                            </div>
			                            -->
			                            
			                        </div>
			                        
			                    </div>
											
							</div>
							
							
							<div class="col-md-12">
								<div class="card ">
									
									<div class="card-header card-header-icon" data-background-color="green">
										<i class="material-icons">assignment_ind</i>
									</div>
			                      
			                        
			                        <div class="card-content">
			                            <h4 class="card-title">Quadro de Profissionais</h4>
			                            
			                            <div class="row">
			                            	
			                            	<ui:repeat var="quadro" value="#{estatisticasBean.listQuadroProfissional}">
			                            		<div class="col-lg-4 col-md-4 col-sm-12">
			                            		
				                            		<div class="card card-stats">
						                               
						                                <div class="card-content">
						                                    <p class="category black-text" style="font-weight: bold; ">#{quadro.funcao}</p>
						                                    <h3 class="card-title orange-text">#{quadro.quantidadeServidorLotado}</h3>
						                                </div>
						                                <div class="card-footer ">
						                                    <div class="stats ">
					                                           <i class="material-icons blue-text">assignment_ind</i> 
								                            	<p:commandLink
																	pt:data-placement="top" pt:rel="tooltip"
																	pt:title="Mais Informações" 
																	
														   			action="#{cadastroLotacaoBean.pesquisarLotacaoGeralPorFuncao(quadro.idFuncao)}"
														   			update=":frmLotacoesPorFuncao"
														   			onstart="amges.showDialog('processando')"
																	oncomplete="amges.showDialog('close'); amges.openModal('modalLotacoesPorFuncao')" 
																	value="Visualizar">
												                   
												                    
												                </p:commandLink>
						                                    </div>
						                                </div>
						                            </div>
													
					                            </div>
					                            
			                            	</ui:repeat>
			                            	
				                            
			                            </div>
			                             
			                             
			                             
			                        </div>
									
									
			                        
								</div> <!-- fim card card-stats -->
								
							</div>
							
						</div> <!-- fim row -->
						
						
					
					</ui:fragment>
					
				
				</div>
			</div> <!-- fim row -->
			
			<div class="row">
			
				<div class="col-lg-4 col-md-6 col-sm-12">
                    <div class="card card-stats">
                        
                        <div class="card-header" data-background-color="ag-blue">
                             <i class="far fa-hospital"></i>
                        </div>
                        
                        <div class="card-content">
                             <p class="category">Unidades de Trabalho</p>
                             <h3 class="card-title">#{estatisticasBean.totalUnidadesTrabalho}</h3>
                        </div>
						
						<div class="card-footer">
							
							<h:link id="btnGerenciarUnidades" styleClass="btn btn-success btn-simple btn-tooltip"
								outcome="/gestaoadministrativa/cadastro-unidade-trabalho.jsf"
								pt:data-toggle="tooltip" pt:data-placement="top" 
								pt:title="Mais Informações" 
								pt:rel="tooltip">
						
	                            <i class="material-icons">edit</i>  Gerenciar Unidades de Trabalho
	                                            
							</h:link>
                             	 
                        </div>
                     </div>
                 </div>
                 
				
                 
             </div> <!-- fim row -->
            	
          
		</h:form>
		
		<!-- MODAIS
		<ui:include src="/gestaorh/modals/lotacoesPorFuncao.xhtml" />
		 -->
	
	</ui:define>
	
</ui:composition>